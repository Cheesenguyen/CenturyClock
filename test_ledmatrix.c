#include <stdint.h>
#include "constant.h"
#include "ledmatrix.h"

// ----------------------
// Định nghĩa dữ liệu font 5x8 từ tài liệu
// ----------------------
static const uint8_t font_digit_data[10][FONT_HEIGHT] = {
    {0x0E,0x11,0x13,0x15,0x19,0x11,0x11,0x0E}, // 0
    {0x04,0x0C,0x14,0x04,0x04,0x04,0x04,0x1F}, // 1
    {0x0E,0x11,0x01,0x02,0x04,0x08,0x10,0x1F}, // 2
    {0x0E,0x11,0x01,0x06,0x01,0x01,0x11,0x0E}, // 3
    {0x11,0x11,0x11,0x1F,0x01,0x01,0x01,0x01}, // 4
    {0x1F,0x10,0x10,0x1E,0x01,0x01,0x01,0x1E}, // 5
    {0x0F,0x10,0x10,0x1F,0x11,0x11,0x11,0x0E}, // 6
    {0x1F,0x01,0x01,0x02,0x04,0x04,0x04,0x04}, // 7
    {0x0E,0x11,0x11,0x0E,0x11,0x11,0x11,0x0E}, // 8
    {0x0E,0x11,0x11,0x1F,0x01,0x01,0x11,0x0E}  // 9
};

// con trỏ toàn cục như trong tài liệu
const uint8_t *g_p_font_digit = &font_digit_data[0][0];

// ----------------------
// Hàm main test LEDMATRIX
// ----------------------
int main(void) {
    // 1. Test LEDMATRIX_DisplayPixel
    // hiển thị một pixel vàng
    LEDMATRIX_DisplayPixel(0, 0, COLOR_DEFAULT);

    // 2. Test LEDMATRIX_DisplayRow
    // hiển thị 1 hàng bit đơn giản (toàn vàng)
    LEDMATRIX_DisplayRow(0x1F, FONT_WIDTH, 0, 2, COLOR_DEFAULT);

    // 3. Test LEDMATRIX_DisplayDigit
    //hiển thị một chữ số vàng
    LEDMATRIX_DisplayDigit(0, 0, 4, COLOR_DEFAULT);



    return 0;
}
